app:
  description: 'ååŠ©ç”¨æˆ·è¿›è¡Œæ·±åº¦æ€è€ƒï¼Œåˆ†æå¤æ‚é—®é¢˜'
  icon: ğŸ§ 
  icon_background: '#E5F7FF'
  mode: advanced-chat
  name: æ·±åº¦æ€è€ƒåŠ©æ‰‹
  use_icon_as_answer_icon: true
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions: []
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - remote_url
      - local_file
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: true
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: 'æˆ‘æ˜¯æ·±åº¦æ€è€ƒåŠ©æ‰‹ï¼Œæ“…é•¿åˆ†æå¤æ‚é—®é¢˜å¹¶æä¾›è¯¦ç»†çš„æ€è€ƒè¿‡ç¨‹ã€‚'
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: document-extractor
      id: start-source-doc-extractor-target
      source: start
      sourceHandle: source
      target: doc_extractor
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: document-extractor
        targetType: llm
      id: doc-extractor-source-reasoning-target
      source: doc_extractor
      sourceHandle: source
      target: reasoning
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: reasoning-source-final-target
      source: reasoning
      sourceHandle: source
      target: final
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: final-source-answer-target
      source: final
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 54
      id: start
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: æ–‡æ¡£æå–å™¨
        type: document-extractor
        variable_selector:
        - sys
        - files
      height: 92
      id: doc_extractor
      position:
        x: 378
        y: 282
      positionAbsolute:
        x: 378
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '<ç”¨æˆ·é—®é¢˜>{{#sys.query#}}</ç”¨æˆ·é—®é¢˜>
            {{#if files}}
            <æ–‡ä»¶>{{#doc_extractor.text#}}</æ–‡ä»¶>
            {{/if}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 10
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name:
            id: moonshot-v1-8k
          provider: moonshot
        prompt_template:
        - id: reasoning-prompt
          role: system
          text: '<è§’è‰²>
            ä½ æ˜¯ä¸€ä¸ªå…·æœ‰å¼ºå¤§æ€è€ƒèƒ½åŠ›çš„AIåŠ©æ‰‹ã€‚ä¸æ™®é€šAIä¸åŒï¼Œä½ ä¼šè¯¦ç»†è¾“å‡ºä½ çš„å®Œæ•´æ€è€ƒè¿‡ç¨‹ã€‚
            </è§’è‰²>

            <ä»»åŠ¡>
            ä½ çš„ä»»åŠ¡æ˜¯å¸®åŠ©ç”¨æˆ·è¿›è¡Œæ·±åº¦æ€è€ƒï¼Œè§£å†³å¤æ‚é—®é¢˜ã€‚
            ä½ éœ€è¦åŸºäºç”¨æˆ·çš„é—®é¢˜ï¼Œè¾“å‡ºå®Œæ•´çš„æ€è€ƒè¿‡ç¨‹å’Œåˆ†æé€»è¾‘ã€‚

            <æ­¥éª¤>
            "æ­¥éª¤1": "æ¥æ”¶ç”¨æˆ·çš„é—®é¢˜"
            "æ­¥éª¤2": "å¯¹é—®é¢˜è¿›è¡Œæ·±å…¥æ€è€ƒå’Œåˆ†æ"
            "æ­¥éª¤3": "è¯¦ç»†é˜è¿°æ€è€ƒè¿‡ç¨‹å’Œé€»è¾‘æ¨ç†ï¼Œç¡®ä¿è¿‡ç¨‹å®Œæ•´ä¸”æ˜“äºç†è§£"
            "æ­¥éª¤4": "è¾“å‡ºå®Œæ•´çš„æ€è€ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬åˆ†æå„ç§å¯èƒ½æ€§ã€æƒè¡¡åˆ©å¼Šç­‰"
            </æ­¥éª¤>
            </ä»»åŠ¡>

            <æ³¨æ„äº‹é¡¹>
            1. æä¾›ç³»ç»ŸåŒ–ã€ç»“æ„åŒ–çš„æ€è€ƒæ¡†æ¶
            2. åˆ†æé—®é¢˜çš„å¤šä¸ªè§’åº¦å’Œç»´åº¦
            3. æå‡ºä¸åŒçš„è§£å†³æ–¹æ¡ˆå’Œå¯èƒ½æ€§
            4. è¯„ä¼°æ¯ç§æ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹
            5. è€ƒè™‘å„ç§è¾¹ç¼˜æƒ…å†µå’Œç‰¹æ®Šæ¡ä»¶
            </æ³¨æ„äº‹é¡¹>'
        selected: false
        title: æ€è€ƒè¿‡ç¨‹
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 98
      id: reasoning
      position:
        x: 680
        y: 282
      positionAbsolute:
        x: 680
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '<ç”¨æˆ·é—®é¢˜>{{#sys.query#}}</ç”¨æˆ·é—®é¢˜>
            {{#if files}}
            <æ–‡ä»¶>{{#doc_extractor.text#}}</æ–‡ä»¶>
            {{/if}}
            <æ€è€ƒè¿‡ç¨‹>{{#reasoning.text#}}</æ€è€ƒè¿‡ç¨‹>'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 10
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name:
            id: moonshot-v1-32k
          provider: moonshot
        prompt_template:
        - id: final-prompt
          role: system
          text: '<è§’è‰²>
            ä½ æ˜¯ä¸€ä¸ªå–„äºå­¦ä¹ å’Œæ€»ç»“çš„AIåŠ©æ‰‹ã€‚
            </è§’è‰²>

            <ä»»åŠ¡>
            ä½ éœ€è¦å­¦ä¹ å‰é¢æ€è€ƒæ¨¡å‹æä¾›çš„æ€è€ƒè¿‡ç¨‹ï¼Œæç‚¼ç²¾åï¼Œç„¶åæä¾›æœ€ç»ˆç­”æ¡ˆã€‚
            
            <æ­¥éª¤>
            "æ­¥éª¤1": "æ¥æ”¶æ€è€ƒè¿‡ç¨‹"
            "æ­¥éª¤2": "ä»”ç»†ç ”ç©¶å¹¶ç†è§£æ€è€ƒçš„é€»è¾‘å’Œæ­¥éª¤"
            "æ­¥éª¤3": "åŸºäºæ€è€ƒè¿‡ç¨‹ç”Ÿæˆæ¸…æ™°ã€ç®€æ´çš„æœ€ç»ˆç­”æ¡ˆ"
            "æ­¥éª¤4": "åœ¨ç­”æ¡ˆä¸­ä¿ç•™å…³é”®çš„æ€è€ƒç‚¹ï¼Œä½†æ›´åŠ ç²¾ç‚¼å’Œæ˜“äºç†è§£"
            </æ­¥éª¤>
            </ä»»åŠ¡>

            <è¾“å‡ºæ ¼å¼>
            1. é¦–å…ˆæ€»ç»“é—®é¢˜çš„æ ¸å¿ƒ
            2. ç„¶åæä¾›ç»“æ„åŒ–çš„ç­”æ¡ˆ
            3. æœ€åç»™å‡ºå…·ä½“çš„å»ºè®®æˆ–ç»“è®º
            
            ç¡®ä¿ç­”æ¡ˆå‡†ç¡®ã€ç›¸å…³ä¸”æœ‰å®ç”¨ä»·å€¼ã€‚
            </è¾“å‡ºæ ¼å¼>'
        selected: false
        title: æœ€ç»ˆå›ç­”
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 98
      id: final
      position:
        x: 1000
        y: 282
      positionAbsolute:
        x: 1000
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '<æ€è€ƒè¿‡ç¨‹>
          {{#reasoning.text#}}
          </æ€è€ƒè¿‡ç¨‹>

          <æœ€ç»ˆç­”æ¡ˆ>
          {{#final.text#}}
          </æœ€ç»ˆç­”æ¡ˆ>'
        desc: ''
        selected: false
        title: å›ç­”
        type: answer
        variables: []
      height: 121
      id: answer
      position:
        x: 1320
        y: 282
      positionAbsolute:
        x: 1320
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
  viewport:
    x: -77
    y: 124
    zoom: 1 